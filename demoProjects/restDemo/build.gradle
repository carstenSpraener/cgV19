buildscript {
    repositories {
        mavenCentral();
        maven {
            url="${project.rootDir}/../repo"
        }
    }
    dependencies {
        classpath "${project.ext.group}:cgV19-core:${project.ext.version}"
        classpath "${project.ext.group}:cgV19-gradle:${project.ext.version}"
    }
}

plugins {
    id 'application'
}
apply plugin: 'de.spraener.nxtgen.cgV19'

repositories {
    mavenCentral()
}
cgV19 {
    //model='./restDemo.oom'
    model='http://localhost:7000/de'
}

tasks.withType(JavaCompile) {
    compileTask -> compileTask.dependsOn generate
}

sourceSets {
    main {
        java {
            srcDirs 'src/main/java'
            srcDirs 'src/main/java-gen'
        }
    }
}

dependencies {
    cartridge "${project.ext.group}:cgV19-core:${project.ext.version}"
    cartridge "${project.ext.group}:cgV19-oom:${project.ext.version}"
    cartridge "${project.ext.group}:cgV19-RESTCartridge:${project.ext.version}"
    cartridge "${project.ext.group}:cgV19-WebFlowCartridge:${project.ext.version}"

    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-web', version: '2.3.0.RELEASE'
    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-thymeleaf', version: '2.3.0.RELEASE'
    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-data-jpa', version: '2.3.0.RELEASE'
    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-cache', version: '2.3.0.RELEASE'
    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-actuator', version: '2.3.0.RELEASE'

    implementation 'org.springframework.webflow:spring-webflow:2.5.0.RELEASE'
    implementation 'org.springframework.webflow:org.springframework.js:2.0.5.RELEASE'
    implementation 'org.springframework.boot:spring-boot-starter-validation:2.3.0.RELEASE'
    implementation 'org.springframework.boot:spring-boot-starter-thymeleaf:2.3.0.RELEASE'
    implementation 'javax.validation:validation-api:2.0.1.Final'

    implementation 'com.h2database:h2:2.1.210'
    implementation group: 'com.google.code.gson', name: 'gson', version: '2.8.5'
    implementation 'com.google.guava:guava:29.0-jre'

    testImplementation 'junit:junit:4.13'

}

application {
    // Define the main class for the application.
    mainClass = 'de.csp.demo.rest.SpringBootApp'
}
